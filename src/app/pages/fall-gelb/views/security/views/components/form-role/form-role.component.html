

<mat-stepper linear #stepper>

  <mat-step [stepControl]="roleForm" 
            [editable]="true"
            fxLayout="row"
            fxLayoutAlign="center center"
            fxLayoutGap="15px">
    <form [formGroup]="roleForm">
      <ng-template matStepLabel>Nuevo Rol</ng-template>
      <app-phk-input label="Nombre"
                     formControlName="name"
                     fxFlex="100"
                     [errorMessage]="roleForm.get('name')?.errors?.['required'] 
                                     ? 'Nombre es requerido def' : null">
                    
      </app-phk-input>
    </form>
    <button mat-raised-button 
            matStepperNext
            color="primary"
            (click)="selectPermissions(stepper)">Siguiente</button>
  </mat-step>

  <mat-step [stepControl]="permisionFormGroup" [editable]="true">
    <form [formGroup]="permisionFormGroup">
      <ng-template matStepLabel>Asignar Permisos a Roles </ng-template>
      <app-phk-select
        formControlName="modules"
        [label]="'Modulos'"
        fxFlex.gt-md="calc(100%)"
        fxFlex.lt-md="calc(100%)"
        >
        <mat-option *ngFor="let modules of modulesOptions" [value]="modules">
          {{ modules }}
        </mat-option>
      </app-phk-select>
      <app-phk-table
        [columnsTags]="tableColumnsTags"
        [columnsToDisplay]="tableColumnsToDisplay"
        [data]="tableData"
      ></app-phk-table>
    </form>

    <div fxLayout="row"
         fxLayoutGap="10px"
         class="mt-10">
      <button mat-raised-button
              color="primary"
              matStepperPrevious>Anterior</button>
      <button mat-raised-button
              color="primary"
              matStepperNext
              (click)="saveRole()">Guardar</button>
    </div>
  </mat-step>
</mat-stepper>
