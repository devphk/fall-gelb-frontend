

<table mat-table #table [dataSource]="dataSource">
    
    <ng-container *ngFor="let column of columnsToDisplay; let columnIndex=index" 
                  [matColumnDef]="column">
        <!-- <th mat-header-cell *matHeaderCellDef> header </th> -->

        <th mat-header-cell 
            *matHeaderCellDef>
          <div>
            <span mat-sort-header>{{ column }}</span>
            <!-- <template-input [formControl]="nameFilter">
            </template-input> -->
          </div>
        </th>

        <td mat-cell *matCellDef="let element, let rowIndex = index">
          {{element[columnsTags[columnIndex]]}}
          
          <!-- {{column}} -->
        </td>
        <!-- <td mat-cell *matCellDef="let row"> {{row.column}} </td> -->
    </ng-container>


    <!-- <tr mat-header-row *matHeaderRowDef="['column']"></tr>
    <tr mat-row *matRowDef="let row; columns: ['column'];"></tr> -->

    <tr mat-header-row 
        *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>


    <!-- <ng-container matColumnDef="UserName">
        <th mat-header-cell 
            *matHeaderCellDef>
          <div>
            <span mat-sort-header>Username</span>
            <template-input [formControl]="nameFilter">
            </template-input>
          </div>
        </th>
        <td mat-cell *matCellDef="let element, let index = index">
          {{element.userName}}
        </td>
      </ng-container> -->

</table>
  